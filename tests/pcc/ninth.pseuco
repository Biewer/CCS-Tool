intchan100  t12;
intchan100  t23;
boolchan100 k31;
  
void assemblyB1(intchan in, intchan out, boolchan kan){ 
   int j; bool b; 
   int f(int x){/*...*/ return 1; } // Das soll ich mit dem Ding anstellen.
   while (true) {
       b = <? kan;    // Nehme mir ein Kanban.
       j = <? in;     // Nehme mir ein Ding vom Eingang.
       j = f(j);      // Dengel ein wenig daran rum.
       out <! j;      // Und sende es weiter.
     
   }
}

void assemblyB2(intchan in, intchan out){ 
   int j; 
   int g(int x){/*...*/ return 1;} // Das soll ich mit dem Ding anstellen.
   while (true) {
       j = <? in;     // Nehme mir ein Ding vom Eingang.
       j = g(j);      // Dengel ein wenig daran rum.
       out <! j;      // Und sende es weiter.
     
   }
}

void assemblyB3(intchan in, intchan out, boolchan kan){ 
   int j; 
   int h(int x){/*...*/ return 1;} // Das soll ich mit dem Ding anstellen.
   while (true) {
       j = <? in;       // Nehme mir ein Ding vom Eingang.
       j = h(j);      // Dengel ein wenig daran rum.
       kan <! true;   // Gebe ein Kanban ab.     
       out <!j;       // Und sende das Ding weiter.
   }
}

   
mainAgent{
   for (int j=0; j<5 ; j++){
       k31 <! true;     // Ich intialisiere die Kanbans
   } 

   intchan1 in,out;
   start assemblyB1(in,t12,k31);
   start assemblyB2(t12,t23);
   start assemblyB3(t23,out,k31);
   
   in <! 17;
	// Hier kommt was zu bearbeiten
   // ...                 Und so weiter
   }


