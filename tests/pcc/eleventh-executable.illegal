int nextPseudoRand (int y) {
   y = (y+1) * 11173 %  11939;
   return (y>0?y:-y);
}

void remember(int x){
}

bool alreadySeen(int x){
return false;
}

int[10] post(int x){
   int[10] res;
   for (int j = 0 ; j <10; j++){
      x = nextPseudoRand(x); 
      res[j] = x % 10000  ;
   }
   return res;
}

int num = 4;
intchan100[4] w;
boolchan res;

void search (int id, boolchan r) {
   int curr;
   int[10] nxt;
   bool found = false;
   int i = 0; 
   int v;
   while (!(found)){ 
      curr = <? w[id];
      found = (curr == 13);
      i++;
      println(i + ". Agent " + id + " bearbeitet Knoten " + curr);
      if (!alreadySeen(curr)){
         remember(curr);
         nxt = post(curr);
         for (int j=0 ; j < 10; j++){
            v = nxt[j];
            w[v % 4] <! v;
         }
      } 
   }
   r <! true;
}
 
mainAgent{
   agent[4] a = {
   		start factorial(dd, cc),
   		start factorial(dd, cc),
   		start factorial(dd, cc),
   		start factorial(dd, cc)
   };
   w[0] <! 0; // Einer bekommt den initialen Knoten

   _ = <? res; // Sagt mir jemand Bescheid?
   
   println("Ja, der Knoten 13 ist erreichbar.");
}