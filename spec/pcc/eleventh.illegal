intchan100000[4] w;
boolchan res;
agent[4] a;

int[10] post(int x){ ... }     // Jeweils zehn Nachfolger. 

void search (int id, boolchan r) {
   int curr;
   int[10] nxt;
   bool found = false;
  
   while (!(found)){ 
      curr = <? w[id];
      found = (curr == 13);
      println("Agent" + id + "bearbeitet Knoten " + curr);
      if (!alreadySeen(curr)){
         remember(curr);
         nxt = post(curr);
         for (int j=0 ; j < 10; j++){
            v = nxt[j];
            w[v % 4] <! v;
         }
      } 
   }
   r <! true;
}
 
mainAgent{
   for (int j=0; j<4 ; j++){
       a[j] = start search(j, res);  // Ich lasse vier Agenten loslegen.
   } 
   a[0] <! 0; // Einer bekommt den initialen Knoten

   _ = <? res; // Sagt mir jemand Bescheid?
   
   println("Ja, der Knoten 13 ist erreichbar.");
}